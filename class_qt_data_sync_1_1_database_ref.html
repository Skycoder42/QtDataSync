<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QtDataSync: QtDataSync::DatabaseRef Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="display: inline;">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QtDataSync
   &#160;<span id="projectnumber">4.2.0</span>
   </div>
   <div id="projectbrief">A simple offline-first synchronisation framework, to synchronize data of Qt applications between devices</div>
  </td>
 </tr>
 </tbody>
</table>
<a style="float: right;" target="_blank"  href="https://github.com/Skycoder42/QtDataSync">
<img style="padding: 10px;" src="GitHub_Logo.png"/>
</a>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_qt_data_sync.html">QtDataSync</a></li><li class="navelem"><a class="el" href="class_qt_data_sync_1_1_database_ref.html">DatabaseRef</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_qt_data_sync_1_1_database_ref-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QtDataSync::DatabaseRef Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A wrapper around <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.2/qtsql/qtsql.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qsqldatabase.html">QSqlDatabase</a> to manage the connections.  
 <a href="class_qt_data_sync_1_1_database_ref.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="defaults_8h_source.html">defaults.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a907dc7ee517ebece6ef3c60de1befd0c"><td class="memItemLeft" align="right" valign="top"><a id="a907dc7ee517ebece6ef3c60de1befd0c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_database_ref.html#a907dc7ee517ebece6ef3c60de1befd0c">DatabaseRef</a> ()</td></tr>
<tr class="memdesc:a907dc7ee517ebece6ef3c60de1befd0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. Constructs an invalid database reference. <br /></td></tr>
<tr class="separator:a907dc7ee517ebece6ef3c60de1befd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e57110e6fe9f265cf2a278e2cda666"><td class="memItemLeft" align="right" valign="top"><a id="a18e57110e6fe9f265cf2a278e2cda666"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_database_ref.html#a18e57110e6fe9f265cf2a278e2cda666">DatabaseRef</a> (<a class="el" href="class_qt_data_sync_1_1_database_ref.html">DatabaseRef</a> &amp;&amp;other) noexcept</td></tr>
<tr class="memdesc:a18e57110e6fe9f265cf2a278e2cda666"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor. <br /></td></tr>
<tr class="separator:a18e57110e6fe9f265cf2a278e2cda666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a0db8a58767ab8126d2433d0fa7f57"><td class="memItemLeft" align="right" valign="top"><a id="a59a0db8a58767ab8126d2433d0fa7f57"></a>
<a class="el" href="class_qt_data_sync_1_1_database_ref.html">DatabaseRef</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_database_ref.html#a59a0db8a58767ab8126d2433d0fa7f57">operator=</a> (<a class="el" href="class_qt_data_sync_1_1_database_ref.html">DatabaseRef</a> &amp;&amp;other) noexcept</td></tr>
<tr class="memdesc:a59a0db8a58767ab8126d2433d0fa7f57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assignment operator. <br /></td></tr>
<tr class="separator:a59a0db8a58767ab8126d2433d0fa7f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11d086bcc7dfc4a881ac18829f8f5b6"><td class="memItemLeft" align="right" valign="top"><a id="ae11d086bcc7dfc4a881ac18829f8f5b6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_database_ref.html#ae11d086bcc7dfc4a881ac18829f8f5b6">isValid</a> () const</td></tr>
<tr class="memdesc:ae11d086bcc7dfc4a881ac18829f8f5b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this reference points to a valid database. <br /></td></tr>
<tr class="separator:ae11d086bcc7dfc4a881ac18829f8f5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f0c9e104ef6e15c4f4620d02b5abdd"><td class="memItemLeft" align="right" valign="top"><a id="af2f0c9e104ef6e15c4f4620d02b5abdd"></a>
<a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.2/qtsql/qtsql.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qsqldatabase.html">QSqlDatabase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_database_ref.html#af2f0c9e104ef6e15c4f4620d02b5abdd">database</a> () const</td></tr>
<tr class="memdesc:af2f0c9e104ef6e15c4f4620d02b5abdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the database that is managed by this reference. <br /></td></tr>
<tr class="separator:af2f0c9e104ef6e15c4f4620d02b5abdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241e5f68960ce3aacfd5a53e3c375433"><td class="memItemLeft" align="right" valign="top"><a id="a241e5f68960ce3aacfd5a53e3c375433"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_database_ref.html#a241e5f68960ce3aacfd5a53e3c375433">operator QSqlDatabase</a> () const</td></tr>
<tr class="memdesc:a241e5f68960ce3aacfd5a53e3c375433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implicit cast operator to the managed database. <br /></td></tr>
<tr class="separator:a241e5f68960ce3aacfd5a53e3c375433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c92f25967544432d973192f4149961"><td class="memItemLeft" align="right" valign="top"><a id="ad7c92f25967544432d973192f4149961"></a>
<a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.2/qtsql/qtsql.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qsqldatabase.html">QSqlDatabase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_database_ref.html#ad7c92f25967544432d973192f4149961">operator-&gt;</a> () const</td></tr>
<tr class="memdesc:ad7c92f25967544432d973192f4149961"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arrow operator to access the database. <br /></td></tr>
<tr class="separator:ad7c92f25967544432d973192f4149961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a6e2aa175cd97b5e09d78cb5aedaf3"><td class="memItemLeft" align="right" valign="top"><a id="ad7a6e2aa175cd97b5e09d78cb5aedaf3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_database_ref.html#ad7a6e2aa175cd97b5e09d78cb5aedaf3">drop</a> ()</td></tr>
<tr class="memdesc:ad7a6e2aa175cd97b5e09d78cb5aedaf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drops the reference to the database early. <br /></td></tr>
<tr class="separator:ad7a6e2aa175cd97b5e09d78cb5aedaf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A wrapper around <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.2/qtsql/qtsql.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qsqldatabase.html">QSqlDatabase</a> to manage the connections. </p>
<p>Internally, this class holds a reference to a sqlite database. The first reference created form a <a class="el" href="class_qt_data_sync_1_1_defaults.html" title="A helper class to get defaults per datasync instance (threadsafe) ">Defaults</a> instance will also create the database connection. From there on, the references to the database are counted with this class. Once the last instance gets destroyed, the database connection closes and gets deleted. Because of this it's important to <b>not</b> extract the <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.2/qtsql/qtsql.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qsqldatabase.html">QSqlDatabase</a> from this class to "permanent" variable. Try to use the reference class where possible and only pass the internal database to scoped objects.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_qt_data_sync_1_1_defaults.html#a07be849a3dbf3dfae4ca2a430ce067e8" title="Aquire a reference to the standard sqlite database. ">Defaults::aquireDatabase</a>, <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.2/qtsql/qtsql.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qsqldatabase.html">QSqlDatabase</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="defaults_8h_source.html#l00028">28</a> of file <a class="el" href="defaults_8h_source.html">defaults.h</a>.</p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="defaults_8h_source.html">defaults.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Nov 17 2018 11:30:54 for QtDataSync by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
