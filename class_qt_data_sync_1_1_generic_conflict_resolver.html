<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QtDataSync: QtDataSync::GenericConflictResolver&lt; T1, Args &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="display: inline;">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QtDataSync
   &#160;<span id="projectnumber">4.1.0</span>
   </div>
   <div id="projectbrief">A simple offline-first synchronisation framework, to synchronize data of Qt applications between devices</div>
  </td>
 </tr>
 </tbody>
</table>
<a style="float: right;" target="_blank"  href="https://github.com/Skycoder42/QtDataSync">
<img style="padding: 10px;" src="GitHub_Logo.png"/>
</a>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_qt_data_sync.html">QtDataSync</a></li><li class="navelem"><a class="el" href="class_qt_data_sync_1_1_generic_conflict_resolver.html">GenericConflictResolver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_qt_data_sync_1_1_generic_conflict_resolver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QtDataSync::GenericConflictResolver&lt; T1, Args &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>A generic variant of the <a class="el" href="class_qt_data_sync_1_1_conflict_resolver.html" title="Interface to implement a custom conflict handler for sync conflicts. ">ConflictResolver</a> to handel dataobjects instead of json data.  
 <a href="class_qt_data_sync_1_1_generic_conflict_resolver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="conflictresolver_8h_source.html">conflictresolver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa8cb36f2341342b7f75ca57307892a98"><td class="memItemLeft" align="right" valign="top"><a id="aa8cb36f2341342b7f75ca57307892a98"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_generic_conflict_resolver.html#aa8cb36f2341342b7f75ca57307892a98">GenericConflictResolver</a> (<a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtautoupdater/qtautoupdater.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/class_q_object.html">QObject</a> *parent=nullptr)</td></tr>
<tr class="memdesc:aa8cb36f2341342b7f75ca57307892a98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:aa8cb36f2341342b7f75ca57307892a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22ca886c9c38cad6f0d69e8faab43d9"><td class="memItemLeft" align="right" valign="top"><a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_generic_conflict_resolver.html#ab22ca886c9c38cad6f0d69e8faab43d9">resolveConflict</a> (int typeId, const <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> &amp;data1, const <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> &amp;data2) const override</td></tr>
<tr class="memdesc:ab22ca886c9c38cad6f0d69e8faab43d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method called to resolve conflicts between two datasets.  <a href="#ab22ca886c9c38cad6f0d69e8faab43d9">More...</a><br /></td></tr>
<tr class="separator:ab22ca886c9c38cad6f0d69e8faab43d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aaae4305ccf6e605303f0771eefe3b2b7"><td class="memItemLeft" align="right" valign="top">virtual T1&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_data_sync_1_1_generic_conflict_resolver.html#aaae4305ccf6e605303f0771eefe3b2b7">resolveConflict</a> (T1 data1, T1 data2, <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtautoupdater/qtautoupdater.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/class_q_object.html">QObject</a> *parent) const =0</td></tr>
<tr class="separator:aaae4305ccf6e605303f0771eefe3b2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T1, typename... Args&gt;<br />
class QtDataSync::GenericConflictResolver&lt; T1, Args &gt;</h3>

<p>A generic variant of the <a class="el" href="class_qt_data_sync_1_1_conflict_resolver.html" title="Interface to implement a custom conflict handler for sync conflicts. ">ConflictResolver</a> to handel dataobjects instead of json data. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Args</td><td>The types this resolver should be able resolve conflicts for</td></tr>
  </table>
  </dd>
</dl>
<p>The class is basically a wrapper around the <a class="el" href="class_qt_data_sync_1_1_conflict_resolver.html" title="Interface to implement a custom conflict handler for sync conflicts. ">ConflictResolver</a> that deserializes all incoming data and that passes the objects to a generic <a class="el" href="class_qt_data_sync_1_1_generic_conflict_resolver.html#ab22ca886c9c38cad6f0d69e8faab43d9" title="The method called to resolve conflicts between two datasets. ">resolveConflict()</a> method. The result is then serialized again and returned. In order to handle a type it must be passed as a template parameter. The resulting generic class will have one pure virtual method for any passed type you need to reimplement. In order to handle types that have not been captured that way you can reimplement the resolveUnknownConflict() method.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_qt_data_sync_1_1_conflict_resolver.html" title="Interface to implement a custom conflict handler for sync conflicts. ">ConflictResolver</a>, <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtjsonserializer/qtjsonserializer.tags:https://skycoder42.github.io/QJsonSerializer/" href="https://skycoder42.github.io/QJsonSerializer/class_q_json_serializer.html">QJsonSerializer</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="conflictresolver_8h_source.html#l00048">48</a> of file <a class="el" href="conflictresolver_8h_source.html">conflictresolver.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab22ca886c9c38cad6f0d69e8faab43d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22ca886c9c38cad6f0d69e8faab43d9">&#9670;&nbsp;</a></span>resolveConflict() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T1 , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> <a class="el" href="class_qt_data_sync_1_1_generic_conflict_resolver.html">QtDataSync::GenericConflictResolver</a>&lt; T1, Args &gt;::resolveConflict </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>typeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>data2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method called to resolve conflicts between two datasets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">typeId</td><td>The id of the type of which the two conflicted objects are </td></tr>
    <tr><td class="paramname">data1</td><td>The first dataset </td></tr>
    <tr><td class="paramname">data2</td><td>The second dataset </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The independent merge result of the two datasets </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtmvvm/qtmvvm.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/class_q_exception.html">QException</a></td><td>In case data corruption was detected an exception can be thrown to abort the synchronization. This will put the engine in an (unrecoverable) error state.</td></tr>
  </table>
  </dd>
</dl>
<p>Must be implemented as the main method of the resolver. The method <em>must</em> always return something. If you find that you cannot decide how to merge, simply return a default constructed json object. In that case, the library will ignore the result and proceed to merge as if no conflict resolver was present.</p>
<dl class="section warning"><dt>Warning</dt><dd>This method <b>must</b> be deterministic and independent of the parameter order. This means if you assume you have 2 objects, no matter at what point in time and in which order they are passed to this method, the returned object <b>must</b> always be the same. If thats not the case it can lead to infinite synchronisation loops.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_qt_data_sync_1_1_conflict_resolver.html" title="Interface to implement a custom conflict handler for sync conflicts. ">ConflictResolver</a>, <a class="el" href="class_qt_data_sync_1_1_generic_conflict_resolver.html#ab22ca886c9c38cad6f0d69e8faab43d9" title="The method called to resolve conflicts between two datasets. ">GenericConflictResolver::resolveConflict</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="conflictresolver_8h_source.html#l00057">57</a> of file <a class="el" href="conflictresolver_8h_source.html">conflictresolver.h</a>.</p>

</div>
</div>
<a id="aaae4305ccf6e605303f0771eefe3b2b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaae4305ccf6e605303f0771eefe3b2b7">&#9670;&nbsp;</a></span>resolveConflict() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T1 , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual T1 <a class="el" href="class_qt_data_sync_1_1_generic_conflict_resolver.html">QtDataSync::GenericConflictResolver</a>&lt; T1, Args &gt;::resolveConflict </td>
          <td>(</td>
          <td class="paramtype">T1&#160;</td>
          <td class="paramname"><em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T1&#160;</td>
          <td class="paramname"><em>data2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtautoupdater/qtautoupdater.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/class_q_object.html">QObject</a> *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The method called to resolve conflicts between two datasets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data1</td><td>The first dataset </td></tr>
    <tr><td class="paramname">data2</td><td>The second dataset </td></tr>
    <tr><td class="paramname">parent</td><td>A temporary qobject to use as parent for created QObjects </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The independent merge result of the two datasets </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">NoConflictResultException</td><td>Thrown if resolving was not possible and the default JSON-based resolving should be used instead </td></tr>
    <tr><td class="paramname"><a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.11.0/qtmvvm/qtmvvm.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/class_q_exception.html">QException</a></td><td>In case data corruption was detected an exception can be thrown to abort the synchronization. This will put the engine in an (unrecoverable) error state.</td></tr>
  </table>
  </dd>
</dl>
<p>Must be implemented as the main method of the resolver. The method <em>must</em> always return something. If you find that you cannot decide how to merge, simply throw the <code>NoConflictResultException</code>. In that case, the library will ignore the result and proceed to merge as if no conflict resolver was present. It's basically this methods equivalent of returning an empty JSON object on the non generic variant of this method.</p>
<dl class="section warning"><dt>Warning</dt><dd>This method <b>must</b> be deterministic and independent of the parameter order. This means if you assume you have 2 objects, no matter at what point in time and in which order they are passed to this method, the returned object <b>must</b> always be the same. If thats not the case it can lead to infinite synchronisation loops.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>GenericConflictResolver::resolveUnknownConflict, <a class="el" href="class_qt_data_sync_1_1_conflict_resolver.html#a033f3fb9836aecb701d7e189ac3bc1db" title="The method called to resolve conflicts between two datasets. ">ConflictResolver::resolveConflict</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="conflictresolver_8h_source.html">conflictresolver.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 16 2018 19:33:31 for QtDataSync by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
