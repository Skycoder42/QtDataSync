<?xml version="1.0" encoding="UTF-8"?>
<RestClass name="StoreData"
		   namespace="QtDataSync::firebase::firestore"
		   base="FirebaseApiBase"
		   except="QtDataSync::firebase::FirebaseError">
	<Include local="true">qtdatasync_global.h</Include>
	<Include local="true">firebaseapibase_p.h</Include>
	<Include local="true">firebaseerror.h</Include>
	<Include local="true">rawdata.h</Include>
	<Include local="true">data.h</Include>
	<Include local="true">structuredquery_p.h</Include>

	<Path expr="true">QStringLiteral("documents/datasync/%2").arg(FirebaseApiBase::firebaseUserId())</Path>

	<Method name="query"
			verb="POST"
			body="StructuredQuery"
			returns="Data"> <!-- TODO wrong return type -->
		<Path>:runQuery</Path>
	</Method>
	<Method name="update"
			verb="PATCH"
			body="RawData"
			returns="Data">
		<Path>
			<ParamSegment key="collectionId" type="QString"/>
			<ParamSegment key="documentId" type="QString"/>
		</Path>
		<!--Param key="currentDocument.exists" type="bool"/-->
		<!--Param key="currentDocument.updateTime" type="QDateTime"/-->
		<!--Param key="updateMask.fieldPaths" type="QString" multi="true"/-->
	</Method>
</RestClass>
