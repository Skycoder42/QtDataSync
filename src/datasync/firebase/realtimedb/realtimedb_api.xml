<?xml version="1.0" encoding="UTF-8"?>
<!-- See https://firebase.google.com/docs/reference/rest/database -->
<!-- See https://firebase.google.com/docs/database/rest/start -->
<RestApi name="ApiClient"
		 namespace="QtDataSync::firebase::realtimedb"
		 base="ApiBase"
		 except="Error">
	<Include>optional</Include>
	<Include>QtCore/QHash</Include>
	<Include local="true">qtdatasync_global.h</Include>
	<Include local="true">apibase_p.h</Include>
	<Include local="true">realtimedb_error.h</Include>
	<Include local="true">data.h</Include>
	<Include local="true">querymap_p.h</Include>

	<BaseUrl>https://&lt;projectId&gt;.firebaseio.com/datasync/&lt;userId&gt;</BaseUrl>

	<Parameter key="auth">&lt;idToken&gt;</Parameter>
	<Parameter key="timeout">15min</Parameter>
	<Parameter key="writeSizeLimit">unlimited</Parameter>
	<!-- Extender[url]: <path>.json -->

	<Method name="listChangedData"
			verb="GET"
			returns="QueryMap">
		<Path>
			<ParamSegment key="type" type="QString"/>
		</Path>
		<Param key="startAt" type="qint64"/>
		<Param key="limitToFirst" type="int">100</Param>
		<Param key="orderBy" type="QString" asStr="true">\"uploaded\"</Param>
	</Method>

	<Method name="getData"
			verb="GET"
			returns="std::optional&lt;Data&gt;">
		<Path>
			<ParamSegment key="type" type="QString"/>
			<ParamSegment key="key" type="QString"/>
		</Path>
		<Header key="X-Firebase-ETag">true</Header>
	</Method>

	<Method name="uploadData"
			verb="PUT"
			body="Data">
		<Path>
			<ParamSegment key="type" type="QString"/>
			<ParamSegment key="key" type="QString"/>
		</Path>
		<Header key="if-match" expr="true">getETag()</Header>
	</Method>

	<Method name="removeTable"
			verb="DELETE">
		<Path>
			<ParamSegment key="type" type="QString"/>
		</Path>
		<Param key="print" type="QString" asStr="true">silent</Param>
	</Method>

	<Method name="removeUser"
			verb="DELETE">
		<Param key="print" type="QString" asStr="true">silent</Param>
	</Method>
</RestApi>
